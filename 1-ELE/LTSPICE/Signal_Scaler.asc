Version 4
SHEET 1 1568 680
WIRE -592 -128 -592 -160
WIRE -400 -128 -400 -160
WIRE 288 -96 256 -96
WIRE 400 -96 352 -96
WIRE -592 -16 -592 -48
WIRE -400 -16 -400 -48
WIRE 256 0 256 -96
WIRE 288 0 256 0
WIRE 400 0 400 -96
WIRE 400 0 368 0
WIRE 144 64 80 64
WIRE 256 64 256 0
WIRE 256 64 224 64
WIRE -688 128 -688 96
WIRE -352 128 -352 96
WIRE 256 144 256 64
WIRE 288 144 256 144
WIRE 400 160 400 0
WIRE 400 160 352 160
WIRE 128 176 80 176
WIRE 240 176 208 176
WIRE 288 176 240 176
WIRE -688 240 -688 208
WIRE -352 240 -352 208
WIRE 240 272 240 176
WIRE 352 272 240 272
WIRE 240 288 240 272
WIRE 352 288 352 272
WIRE 240 368 240 352
WIRE 352 368 240 368
WIRE 240 400 240 368
FLAG 400 160 OUT
FLAG -400 -160 VOFST
FLAG -400 -16 0
FLAG 240 400 VOFST
FLAG -688 96 VIN
FLAG -688 240 0
FLAG -592 -16 0
FLAG -592 -160 VDD
FLAG 320 128 VDD
FLAG 320 192 -VDD
FLAG -352 240 0
FLAG -352 96 -VIN
FLAG 80 64 -VIN
FLAG 80 176 VIN
SYMBOL cap 224 288 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL res 336 272 R0
WINDOW 0 37 47 Left 2
SYMATTR InstName R1
SYMATTR Value {Rp}
SYMBOL res 384 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rp}
SYMBOL res 240 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rs}
SYMBOL res 224 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rs}
SYMBOL cap 352 -112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1n
SYMBOL voltage -400 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {Vofst}
SYMBOL voltage -688 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 {Vin} {Freq})
SYMBOL OpAmps\\UniversalOpAmp 320 160 R0
SYMATTR InstName U1
SYMBOL voltage -592 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value {Vdd}
SYMBOL voltage -352 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0 {Vin} {Freq} 0 0 180)
TEXT -64 424 Left 2 !.tran 200m
TEXT -392 328 Left 2 !.param Vdd=5
TEXT -392 424 Left 2 !.param Rs = 40k
TEXT -392 456 Left 2 !.param Rp = 1k
TEXT -392 360 Left 2 !.param Vofst=20
TEXT -392 392 Left 2 !.param Vin = 100
TEXT 496 0 Left 2 ;Circuit to convert a differential input signal into its\nshifted, scaled and single-ended version.\nThe shift value is controlled by "VOFST", whereas\nthe scaling factor (aka gain) by the ration between\n"Rp" and "Rs". To invert output polarity just connect\nVIN to OPAMP- and -VIN to OPAMP+.\nThe general output expression is Vout = Vdc + Vac,\nwhere Vdc = Vofst and Vac = 2*Vin*Rp/Rs.
TEXT -392 488 Left 2 !.param Freq = 50
